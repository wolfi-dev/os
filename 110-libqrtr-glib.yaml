# Generated from https://gitlab.alpinelinux.org/alpine/aports/-/raw/master/community/libqrtr-glib/APKBUILD
package:
  name: libqrtr-glib
  version: 1.2.2
  epoch: 0
  description: Qualcomm IPC Router protocol helper library
  copyright:
    - license: LGPL-2.1-or-later

environment:
  contents:
    packages:
      - build-base
      - busybox
      - ca-certificates-bundle
      - glib-dev
      - gobject-introspection-dev
      - gtk-doc
      - linux-headers
      - meson

pipeline:
  - uses: fetch
    with:
      expected-sha256: c5cdf5ea91cbd2cf2758b2896064c7b1dfe7156063267df905f957ac69b6b763
      uri: https://gitlab.freedesktop.org/mobile-broadband/libqrtr-glib/-/archive/${{package.version}}/libqrtr-glib-${{package.version}}.tar.gz

  - uses: autoconf/configure

  - uses: autoconf/make

  - uses: autoconf/make-install

  - uses: strip

subpackages:
  - name: libqrtr-glib-dev
    pipeline:
      - uses: split/dev
    dependencies:
      runtime:
        - libqrtr-glib
    description: libqrtr-glib dev

  - name: libqrtr-glib-doc
    pipeline:
      - uses: split/manpages
    description: libqrtr-glib manpages

test:
  environment: {}
  pipeline:
    - name: Verify libqrtr-glib installation, please improve the test as needed
      runs: libqrtr-glib --version || exit 1
