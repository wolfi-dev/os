# Generated from https://gitlab.alpinelinux.org/alpine/aports/-/raw/master/community/zix/APKBUILD
package:
  name: zix
  version: 0.6.2
  epoch: 0
  description: lightweight C99 portability and data structure library
  copyright:
    - license: ISC

environment:
  contents:
    packages:
      - build-base
      - busybox
      - ca-certificates-bundle
      - meson

pipeline:
  - uses: fetch
    with:
      expected-sha256: 4bc771abf4fcf399ea969a1da6b375f0117784f8fd0e2db356a859f635f616a7
      uri: https://download.drobilla.net/zix-${{package.version}}.tar.xz

  - uses: autoconf/configure

  - uses: autoconf/make

  - uses: autoconf/make-install

  - uses: strip

subpackages:
  - name: zix-dev
    pipeline:
      - uses: split/dev
    dependencies:
      runtime:
        - zix
    description: zix dev

  - name: zix-libs
    pipeline:
      - uses: split/FIXME
    description: zix FIXME

test:
  environment: {}
  pipeline:
    - name: Verify zix installation, please improve the test as needed
      runs: zix --version || exit 1
