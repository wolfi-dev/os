# Generated from https://gitlab.alpinelinux.org/alpine/aports/-/raw/master/community/vtk/APKBUILD
package:
  name: vtk
  version: 9.3.1
  epoch: 0
  description: A software system for 3D computer graphics, image processing and visualization
  copyright:
    - license: BSD-3-Clause

environment:
  contents:
    packages:
      - build-base
      - busybox
      - ca-certificates-bundle
      - boost-dev
      - curl-dev
      - doxygen
      - ffmpeg-dev
      - gdal-dev
      - glew-dev
      - hdf5-dev
      - jpeg-dev
      - libaec-dev
      - libpng-dev
      - libxml2-dev
      - netcdf-dev
      - openmpi-dev
      - pdal-dev
      - proj-dev
      - qt5-qtbase-dev
      - qt5-qttools-dev
      - qt5-qtx11extras-dev
      - sqlite-dev
      - tk-dev
      - unixodbc-dev
      - zlib-dev
      - cmake
      - samurai
      - doxygen-dev

pipeline:
  - uses: fetch
    with:
      expected-sha256: 8354ec084ea0d2dc3d23dbe4243823c4bfc270382d0ce8d658939fd50061cab8
      uri: https://www.vtk.org/files/release/9.3/VTK-${{package.version}}.tar.gz

  - uses: fetch
    with:
      expected-sha256: 299569eba74413ee90cc5073511e82a957d7d685deb0a9f16362e2714e4e7f6f
      uri: https://www.vtk.org/files/release/9.3/VTKData-${{package.version}}.tar.gz

  - uses: fetch
    with:
      expected-sha256: 881bbd7fcf89cd9cf0d86a984fa743c145a3e1f435e3eb9b58f0f581aa372030
      uri: https://www.vtk.org/files/release/9.3/VTKLargeData-${{package.version}}.tar.gz

  - uses: autoconf/configure

  - uses: autoconf/make

  - uses: autoconf/make-install

  - uses: strip

subpackages:
  - name: vtk-doc
    pipeline:
      - uses: split/manpages
    description: vtk manpages

  - name: vtk-dev
    pipeline:
      - uses: split/dev
    dependencies:
      runtime:
        - vtk
        - boost-dev
        - curl-dev
        - doxygen
        - ffmpeg-dev
        - gdal-dev
        - glew-dev
        - hdf5-dev
        - jpeg-dev
        - libaec-dev
        - libpng-dev
        - libxml2-dev
        - netcdf-dev
        - openmpi-dev
        - pdal-dev
        - proj-dev
        - qt5-qtbase-dev
        - qt5-qttools-dev
        - qt5-qtx11extras-dev
        - sqlite-dev
        - tk-dev
        - unixodbc-dev
        - zlib-dev
    description: vtk dev

test:
  environment: {}
  pipeline:
    - name: Verify vtk installation, please improve the test as needed
      runs: vtk --version || exit 1
