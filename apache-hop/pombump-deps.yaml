# Pombump dependency patches for Apache Hop
# Only for dependencies that DON'T use properties

patches:
  # Add missing JSR305 dependency for @Nullable annotations
  # This fixes the compilation error: "package javax.annotation does not exist"
  # This is ADDED, not updated, so it needs to be in deps.yaml
  - groupId: com.google.code.findbugs
    artifactId: jsr305
    version: 3.0.2
    
  # CVE-2025-48924 - commons-lang 2.6 (legacy version, different from commons-lang3)
  # This is the old commons-lang, not commons-lang3
  - groupId: commons-lang
    artifactId: commons-lang
    version: 2.6
    
  # CVE-2022-41404 - ini4j in propertyinput plugin
  # Note: 0.5.4 is latest version available, keeping as-is since no fix exists
  # - groupId: org.ini4j
  #   artifactId: ini4j
  #   version: 0.5.4
  
  # The following are TRANSITIVE dependencies that pombump might not be able to patch
  # because they're embedded in other JARs, but we can try:
  
  # CVE-2024-47072 - xstream (transitive via drools)
  - groupId: com.thoughtworks.xstream
    artifactId: xstream
    version: 1.4.21
    
  # CVE-2023-52428, CVE-2025-53864 - nimbus-jose-jwt (transitive via beam/azure)
  - groupId: com.nimbusds
    artifactId: nimbus-jose-jwt
    version: 10.0.2
    
  # CVE-2024-35255 - azure-identity (transitive via beam)
  - groupId: com.azure
    artifactId: azure-identity
    version: 1.12.2
    
  # CVE-2024-38808 - spring-expression (transitive via beam)
  - groupId: org.springframework
    artifactId: spring-expression
    version: 5.3.39
    
  # CVE-2024-21634 - ion-java (transitive via beam)
  # Note: No fix available yet, using latest version
  - groupId: com.amazon.ion
    artifactId: ion-java
    version: 1.11.4
    
  # CVE-2023-1370, CVE-2021-31684 - json-smart (transitive via nimbus-jose-jwt)
  - groupId: net.minidev
    artifactId: json-smart
    version: 2.5.2
    
  # CVE-2020-8908, CVE-2023-2976 - guava (transitive via clickhouse-jdbc)
  # REMOVED: Causes compilation errors due to internal API changes
  # This is embedded in clickhouse-jdbc fat JAR anyway, so can't be patched
  # - groupId: com.google.guava
  #   artifactId: guava
  #   version: 33.3.1-jre