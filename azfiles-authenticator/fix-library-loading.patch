--- a/src/azfilesauthmanager.py
+++ b/src/azfilesauthmanager.py
@@ -5,6 +5,7 @@
 import subprocess
 import time
 import ctypes
+import ctypes.util
 import requests
 import pwd
 
@@ -20,18 +21,13 @@
     azfilesauthmanager --version
 """
 
-library_paths = [
-    '/usr/lib/libazfilesauth.so',
-    '/usr/lib64/libazfilesauth.so',
-    '/usr/local/lib/libazfilesauth.so'
-]
-
-found_path = False
-for path in library_paths:
-    if os.path.exists(path):
-        lib = ctypes.CDLL(path)
-        found_path = True 
-        break
+# Use ctypes.util.find_library to properly locate versioned shared libraries
+lib_path = ctypes.util.find_library('azfilesauth')
+if lib_path:
+    lib = ctypes.CDLL(lib_path)
+    found_path = True
+else:
+    found_path = False
 
 if not found_path:
     print("Library libazfilesauth.so not found in /usr/local/lib or /usr/lib")
