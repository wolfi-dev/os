package:
  name: font-opensymbol
  version: 102.12
  epoch: 0
  description: LibreOffice-compatible OpenSymbol font for technical and symbolic glyphs
  copyright:
    - license: LGPL-3.0-or-later
  dependencies:
    provides:
      - fonts-opensymbol=${{package.full-version}}

environment:
  contents:
    packages:
      - build-base
      - busybox
      - curl

pipeline:
  - runs: |
      curl -LO http://ftp.de.debian.org/debian/pool/main/libr/libreoffice/fonts-opensymbol_102.12+LibO7.4.7-1+deb12u8_all.deb
      ar x fonts-opensymbol_102.12+LibO7.4.7-1+deb12u8_all.deb
      tar -xf data.tar.xz
      mkdir -p "${{targets.contextdir}}/usr/share/bug"
      mv ./usr/share/bug/ "${{targets.contextdir}}/usr/share/bug"

      mkdir -p "${{targets.contextdir}}/usr/share/fontconfig"
      mv ./usr/share/fontconfig "${{targets.contextdir}}/usr/share/fontconfig"

      mkdir -p "${{targets.contextdir}}/usr/share/fonts/truetype/libreoffice"
      mv ./usr/share/fonts/truetype/libreoffice/*.ttf "${{targets.contextdir}}/usr/share/fonts/truetype/libreoffice/"

update:
  enabled: false

test:
  pipeline:
    - uses: test/fonts
