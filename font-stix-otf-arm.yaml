# 2.13b171 is the latest version in github releases: https://github.com/stipub/stixfonts/releases
package:
  name: font-stix-otf-arm
  version: 2.13
  epoch: 0
  description: stix-otf fonts
  copyright:
    - license: OFL-1.1
  target-architecture:
    - aarch64
  dependencies:
    provides:
      - font-stix-otf=${{package.full-version}}

environment:
  contents:
    packages:
      - busybox

pipeline:
  - uses: fetch
    with:
      uri: https://github.com/stipub/stixfonts/archive/refs/tags/v2.13b171.tar.gz
      expected-sha256: 1e76b9ab0bb08372ff73ad5b58d9116260e9058d1fce4b83fe1e213c3b9c947f

  - runs: |
      mkdir -p "${{targets.contextdir}}/usr/share/fonts/stix-fonts/"
      mv ./fonts/static_otf/* "${{targets.contextdir}}/usr/share/fonts/stix-fonts/"

update:
  enabled: false
  exclude-reason: We're currently fetching from the latest release, 2.13 b171, which appears to be a one-off build. We should keep an eye out for any similar builds in the future.

test:
  pipeline:
    - uses: test/fonts
