# originated from https://git.alpinelinux.org/aports/plain/main/gnupg/fix-i18n.patch
From: Timo Ter√§s (https://gitlab.alpinelinux.org/fabled)
Date: 2015-09-01
Origin: https://gitlab.alpinelinux.org/alpine/aports/-/commit/1997ebdedb85701fd11105a98de22bedf735545d
Subject: main/gnupg: fix i18n

setlocale() was not called if configured with --disable-nls. fix this
as setlocale() needs to be set in musl for nl_langinfo to work.

--- gnupg-2.4.8.orig/common/i18n.c
+++ gnupg-2.4.8/common/i18n.c
@@ -85,8 +85,8 @@ i18n_init (void)
   bindtextdomain (PACKAGE_GT, gnupg_localedir ());
   textdomain (PACKAGE_GT);
 #else
-# ifdef ENABLE_NLS
   setlocale (LC_ALL, "" );
+# ifdef ENABLE_NLS
   bindtextdomain (PACKAGE_GT, gnupg_localedir ());
   textdomain (PACKAGE_GT);
 # endif
