package:
  name: jed
  version: 0.99.19
  epoch: 2
  description: Powerful editor for programmers
  copyright:
    - license: GPL-2.0
  dependencies:
    runtime:
      - gtk-3
      - s-lang

var-transforms:
  - from: ${{package.version}}
    match: \.(\d+)$
    replace: -$1
    to: mangled-package-version

environment:
  contents:
    packages:
      - build-base
      - busybox
      - expat-dev
      - fontconfig-dev
      - gtk-3-dev
      - libxft-dev
      - ncurses-dev
      - ncurses-terminfo
      - s-lang-dev

pipeline:
  - uses: fetch
    with:
      uri: https://www.jedsoft.org/releases/jed/jed-${{vars.mangled-package-version}}.tar.gz
      expected-sha256: 5eed5fede7a95f18b33b7b32cb71be9d509c6babc1483dd5c58b1a169f2bdf52

  - uses: autoconf/configure

  - uses: autoconf/make

  - uses: autoconf/make-install

  - uses: strip

update:
  enabled: true
  release-monitor:
    identifier: 1440

test:
  pipeline:
    # AUTOGENERATED
    - runs: |
        jed --version
        jed-script --version
        jed --help
        jed-script --help
