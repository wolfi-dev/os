package:
  name: lshw
  version: "02.20"
  epoch: 40
  description: "Provide detailed information about a machine's hardware configuration"
  copyright:
    - license: GPL-2.0-or-later
  dependencies:
    runtime:
      - merged-usrsbin
      - wolfi-baselayout

environment:
  contents:
    packages:
      - bash
      - build-base
      - busybox
      - gettext

pipeline:
  - uses: git-checkout
    with:
      repository: https://ezix.org/src/pkg/lshw.git
      tag: "B.${{package.version}}"
      expected-commit: 4c6497c8b0a67cd9fa9693e9101a7cafd3297e81

  - uses: autoconf/make

  - uses: autoconf/make-install
    with:
      opts: SBINDIR=/usr/bin

  - uses: strip

update:
  enabled: true
  release-monitor:
    identifier: 6701

test:
  pipeline:
    # AUTOGENERATED
    - runs: |
        lshw --help
