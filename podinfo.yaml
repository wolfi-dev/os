package:
  name: podinfo
  version: "6.9.0"
  epoch: 0
  description: Podinfo is a tiny web application made with Go
  copyright:
    - license: Apache-2.0

pipeline:
  - uses: git-checkout
    with:
      repository: https://github.com/stefanprodan/podinfo
      tag: ${{package.version}}
      expected-commit: fb3b01be30a3f353b221365cd3b4f9484a0885ea

  - runs: | 
      pwd

  - uses: go/build
    with:
      packages: ./cmd/podinfo
      output: podinfo

update:
  enabled: true
  github:
    identifier: stefanprodan/podinfo

test:
  environment:
    environment:
  pipeline:
    - name: Check application responds to --help command
      runs: podinfo --help
    - name: Check application responds to --version flag
      runs: podinfo --version