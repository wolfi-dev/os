Fix CVE-2024-47081: requests .netrc credential leak via malicious URLs

This patch fixes GHSA-9hjg-9r4m-mvj7 where .netrc credentials could be
leaked to unintended hosts. The fix changes from using netloc (which
could be manipulated) to using hostname for netrc lookups.

Based on upstream commit 96ba401c1296ab1dda74a2365ef36d88f7d144ef

--- a/src/pip/_vendor/requests/utils.py
+++ b/src/pip/_vendor/requests/utils.py
@@ -233,14 +233,7 @@ def get_netrc_auth(url, raise_errors=False):
             return
 
         ri = urlparse(url)
-
-        # Strip port numbers from netloc. This weird `if...encode`` dance is
-        # used for Python 3.2, which doesn't support unicode literals.
-        splitstr = b":"
-        if isinstance(url, str):
-            splitstr = splitstr.decode("ascii")
-        host = ri.netloc.split(splitstr)[0]
-
+        host = ri.hostname
         try:
             _netrc = netrc(netrc_path).authenticators(host)
             if _netrc: