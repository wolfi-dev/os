Subject: Replace deprecated pipes module with shlex for Python 3.12+ compatibility
Upstream: Yes (Ninja upstream commit 885b4efb41c039789b81f0dc0d67c1ed0faea17c)
Origin: https://github.com/ninja-build/ninja/commit/885b4efb41c039789b81f0dc0d67c1ed0faea17c
Author: Wolfi OS Maintainers (from upstream Ninja project)

The pipes module was deprecated in Python 3.11 and removed in Python 3.12.
QtWebEngine 5.15.x uses an embedded copy of Ninja that imports the pipes module
in its configure.py script. This patch replaces `import pipes` with `import shlex`
and `pipes.quote()` with `shlex.quote()`, which provides identical functionality.

This is a backport from upstream Ninja project to fix Python 3.12+ compatibility.

References:
- Upstream Ninja: https://github.com/ninja-build/ninja/commit/885b4efb41c039789b81f0dc0d67c1ed0faea17c
- Python PEP 594 (pipes module removal)
- Multiple distribution bug reports (Arch, Fedora, FreeBSD)

--- a/src/3rdparty/ninja/configure.py
+++ b/src/3rdparty/ninja/configure.py
@@ -23,7 +23,7 @@ from __future__ import print_function

 from optparse import OptionParser
 import os
-import pipes
+import shlex
 import string
 import subprocess
 import sys
@@ -259,7 +259,7 @@ n.variable('configure_args', ' '.join(configure_args))
 env_keys = set(['CXX', 'AR', 'CFLAGS', 'LDFLAGS'])
 configure_env = dict((k, os.environ[k]) for k in os.environ if k in env_keys)
 if configure_env:
-    config_str = ' '.join([k + '=' + pipes.quote(configure_env[k])
+    config_str = ' '.join([k + '=' + shlex.quote(configure_env[k])
                            for k in configure_env])
     n.variable('configure_env', config_str + '$ ')
 n.newline()
