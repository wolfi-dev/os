Subject: Adapt release.makefile for FHS compliance and GPL-only build
Upstream: No (custom patch for Wolfi/Debian packaging)
Origin: https://salsa.debian.org/mendezr/stremio
Author: Juan Manuel MÃ©ndez Rey <vejeta@gmail.com>

This patch modifies the release.makefile to:
- Skip proprietary server.js download (BitTorrent functionality)
- Follow Filesystem Hierarchy Standard for installations
- Ensure GPL-only build without non-free components

The server.js component is proprietary and not included in this package.
Users who need BitTorrent functionality should obtain it separately.

---
--- a/release.makefile
+++ b/release.makefile
@@ -8,7 +8,7 @@

 STREMIO_BIN := ${BUILD_DIR}/stremio

-ALL: ${STREMIO_BIN} ${SERVER_JS} icons
+ALL: ${STREMIO_BIN} icons

 install:
 	make -C ${BUILD_DIR} install
@@ -29,8 +29,9 @@
 	cd "$@" && printf 16,22,24,32,64,128 | xargs -I^ -d, sh -c 'rsvg-convert ../images/stremio.svg -w ^ -o smartcode-stremio_^.png && rsvg-convert ../images/stremio_tray_white.svg -w ^ -o smartcode-stremio-tray_^.png'
 
-${SERVER_JS}: 
+${SERVER_JS}:
-	wget "${shell cat server-url.txt}" -qO ${SERVER_JS} || rm ${SERVER_JS}
+	# server.js is optional proprietary component (not included in this package)
+	@echo "Skipping server.js - BitTorrent functionality not included"
 
 ${STREMIO_BIN}:
 	mkdir -p ${BUILD_DIR}
